# DynamoDB Schemaæå–æ¶æ„æ”¹è¿› - å®æ–½æ€»ç»“

## ğŸ“… å®æ–½æ—¥æœŸ
2026-01-24

## ğŸ¯ æ”¹è¿›ç›®æ ‡

è§£å†³é™æ€åˆ†ææ— æ³•æå–DynamoDBå®Œæ•´schemaçš„é—®é¢˜ï¼Œé‡æ–°è®¾è®¡èŒè´£åˆ†ç¦»æ–¹æ¡ˆã€‚

---

## ğŸ“‹ å®æ–½çš„ä¸‰ä¸ªæ­¥éª¤

### âœ… æ­¥éª¤1ï¼šç®€åŒ–é™æ€åˆ†æä¸­çš„DynamoDBæå–é€»è¾‘

#### ä¿®æ”¹å‰ï¼ˆå¤æ‚ä¸”ä¸å¯é ï¼‰

```python
def extract_dynamodb_schemas(monolith_root, file_tags):
    """
    å°è¯•æå–å®Œæ•´çš„è¡¨ç»“æ„ï¼š
    - TableName, KeySchema, AttributeDefinitions, GSI
    
    é—®é¢˜ï¼š
    âŒ æ— æ³•å¤„ç†ç¯å¢ƒå˜é‡ (os.environ.get, process.env)
    âŒ æ— æ³•å¤„ç†f-string (f'table-{env}')
    âŒ åªæ”¯æŒPythonï¼Œä¸æ”¯æŒJavaScript
    âŒ è·¨æ–‡ä»¶å¼•ç”¨è¿½è¸ªå¤æ‚
    """
```

#### ä¿®æ”¹åï¼ˆç®€å•ä¸”å¯é ï¼‰

```python
def extract_dynamodb_info(monolith_root, file_tags):
    """
    åªæå–åŸºæœ¬ä¿¡æ¯ï¼š
    1. æ˜¯å¦ä½¿ç”¨DynamoDB (bool)
    2. å¯èƒ½çš„è¡¨ååˆ—è¡¨ (ä»ç¯å¢ƒå˜é‡é»˜è®¤å€¼æå–)
    3. åŒ…å«schemaå®šä¹‰çš„æ–‡ä»¶åˆ—è¡¨
    
    ä¼˜åŠ¿ï¼š
    âœ… ç®€å•å¯é 
    âœ… æ”¯æŒPythonå’ŒJavaScript
    âœ… ä¸è¿½æ±‚å®Œç¾ï¼Œåªæä¾›hints
    """
```

#### æå–æ¨¡å¼

æ”¯æŒ5ç§è¡¨åæå–æ¨¡å¼ï¼š

| æ¨¡å¼ | ç¤ºä¾‹ä»£ç  | èƒ½å¦æå– |
|------|---------|---------|
| Pythonç¯å¢ƒå˜é‡ | `os.environ.get('TABLE', 'users-table')` | âœ… æå– `users-table` |
| Python getenv | `os.getenv('TABLE', 'users-table')` | âœ… æå– `users-table` |
| JavaScriptç¯å¢ƒå˜é‡ | `process.env.TABLE \|\| 'users-table'` | âœ… æå– `users-table` |
| ç¡¬ç¼–ç TableName | `TableName='users-table'` | âœ… æå– `users-table` |
| é…ç½®å¯¹è±¡ | `TODO_TABLE: 'todo-table'` | âœ… æå– `todo-table` |

#### è¾“å‡ºæ ¼å¼

```json
{
  "dynamodb_info": {
    "used": true,
    "probable_tables": [
      "todo-monolith-table",
      "todo-monolith-users"
    ],
    "schema_files": [
      "backend/config/db.js",
      "dynamodb.py"
    ]
  }
}
```

---

### âœ… æ­¥éª¤2ï¼šä¿®æ”¹Architect Agent Instructions

#### æ ¸å¿ƒå˜åŒ–

**ä¹‹å‰ï¼šè¦æ±‚Architectå®šä¹‰å®Œæ•´schema**
```yaml
**Step 1.3: Design Data Architecture**
Read dynamodb_tables from analysis_report:
- Use the pre-extracted table schemas
- Copy KeySchema, AttributeDefinitions, GSI to blueprint
```

**ç°åœ¨ï¼šåªåšé€»è¾‘è®¾è®¡**
```yaml
**Step 1.3: Design Data Architecture**
Read dynamodb_info from analysis_report:

1. Check if DynamoDB is used
2. Use probable_tables as hints (not mandatory)
3. Design logical data architecture:
   - Decide: Single-table vs multi-table design
   - Define logical tables (names and purpose only)
   - Record schema_source_files for SAM Engineer

âš ï¸ DO NOT define physical schema (KeySchema/GSI).
That's SAM Engineer's job.
```

#### Blueprintè¾“å‡ºæ ¼å¼å˜åŒ–

**ä¹‹å‰ï¼š**
```json
{
  "data_architecture": {
    "dynamodb_tables": [
      {
        "name": "UsersTable",
        "partition_key": "userId",
        "partition_key_type": "S",
        "sort_key": null,
        "gsi": [...]
      }
    ]
  }
}
```

**ç°åœ¨ï¼š**
```json
{
  "data_architecture": {
    "database": "DynamoDB",
    "logical_tables": [
      {
        "logical_name": "Users",
        "description": "User profiles and authentication",
        "access_from": ["UserService", "AuthService"]
      }
    ],
    "schema_source_files": ["dynamodb.py", "init_dynamodb.py"]
  }
}
```

**å…³é”®åŒºåˆ«ï¼š**
- âŒ ä¸å†åŒ…å« KeySchema, AttributeDefinitions, GSI
- âœ… åªåŒ…å«é€»è¾‘åç§°å’Œç”¨é€”
- âœ… æŒ‡å‘schemaæºæ–‡ä»¶ä¾›SAM Engineerè¯»å–

---

### âœ… æ­¥éª¤3ï¼šæ›´æ–°SAM Engineer Instructions

#### SAM Engineerçš„æ–°èŒè´£

**ç°åœ¨SAM Engineeréœ€è¦ä¸»åŠ¨è·å–schemaä¿¡æ¯ï¼š**

**ä¸‰ç§ç­–ç•¥ï¼ˆä¼˜å…ˆçº§é€’å‡ï¼‰ï¼š**

**ç­–ç•¥1ï¼šè¯»å–Schemaå®šä¹‰æ–‡ä»¶ï¼ˆæ¨èï¼‰**
```yaml
1. Read analysis_report.json â†’ dynamodb_info.schema_files
2. For each file (dynamodb.py, init_dynamodb.py, init-db.js):
   - Use ReadFileTool to read content
   - Find create_table(...) or createTable(...) calls
   - Extract KeySchema, AttributeDefinitions, GSI
```

**ç­–ç•¥2ï¼šåˆ†æGenerated Lambdaä»£ç ï¼ˆå¤‡é€‰ï¼‰**
```yaml
1. Read Lambda handler code
2. Find DynamoDB operations:
   - table.get_item(Key={'userId': x}) â†’ partition_key: userId
   - table.query(IndexName='EmailIndex') â†’ has GSI
3. Infer schema from usage patterns
```

**ç­–ç•¥3ï¼šä½¿ç”¨é»˜è®¤æ¨¡æ¿ï¼ˆå…œåº•ï¼‰**
```yaml
1. Create simple table: partition key 'id' (String)
2. Add warning comment in template
```

#### å·¥å…·é…ç½®

SAM Engineerå·²æœ‰çš„å·¥å…·ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰ï¼š
```python
tools=[
    read_tool,         # âœ… å¯ä»¥è¯»å–schemaæ–‡ä»¶
    write_tool,        # âœ… å†™SAMæ¨¡æ¿
    file_list_tool,    # âœ… æ‰«æç”Ÿæˆçš„æ–‡ä»¶
    sam_validate_tool, # âœ… éªŒè¯SAMæ¨¡æ¿
    sam_doc_tool       # âœ… æŸ¥é˜…AWSæ–‡æ¡£
]
```

---

## ğŸ“Š æµ‹è¯•ç»“æœ

### Todoåº”ç”¨ï¼ˆNode.js + Expressï¼‰

**æå–ç»“æœï¼š**
```json
{
  "dynamodb_info": {
    "used": true,
    "probable_tables": [
      "todo-monolith-table",
      "todo-monolith-users"
    ],
    "schema_files": [
      "backend/config/db.js",
      "frontend/src/App.js"
    ]
  }
}
```

âœ… **æˆåŠŸè¯†åˆ«**ï¼š
- DynamoDBä½¿ç”¨æ ‡è®°
- 2ä¸ªè¡¨åï¼ˆä»ç¯å¢ƒå˜é‡é»˜è®¤å€¼æå–ï¼‰
- 2ä¸ªå¯èƒ½çš„schemaæ–‡ä»¶

### Shopping Cartåº”ç”¨ï¼ˆPython + Flaskï¼‰

**æå–ç»“æœï¼š**
```json
{
  "dynamodb_info": {
    "used": true,
    "probable_tables": [
      "shopping-cart-monolith",
      "us-east-1",
      "dev-secret-key..."
    ],
    "schema_files": [
      "app.py",
      "dynamodb.py"
    ]
  }
}
```

âœ… **æˆåŠŸè¯†åˆ«**ï¼š
- DynamoDBä½¿ç”¨æ ‡è®°
- ä¸»è¡¨å `shopping-cart-monolith`ï¼ˆæ­£ç¡®ï¼‰
- `dynamodb.py` æ­£ç¡®æ ‡è®°ä¸ºschemaæ–‡ä»¶

âš ï¸ **æœ‰è¯¯æŠ¥**ï¼š`us-east-1`, `dev-secret-key` è¢«è¯¯è¯†åˆ«ä¸ºè¡¨å
- **å½±å“**ï¼šä¸å¤§ï¼Œè¿™äº›åªæ˜¯hintsï¼ŒSAM Engineeræœ€ç»ˆä¼šä»schemaæ–‡ä»¶ä¸­è¯»å–çœŸå®å®šä¹‰
- **å¯æ”¹è¿›**ï¼šæ·»åŠ è¿‡æ»¤è§„åˆ™ï¼ˆå¦‚æ’é™¤åŒ…å«"key", "region"ç­‰çš„å­—ç¬¦ä¸²ï¼‰

---

## ğŸ¯ æ¶æ„å¯¹æ¯”

### ä¿®æ”¹å‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Static Analyzer     â”‚
â”‚                     â”‚
â”‚ å°è¯•æå–å®Œæ•´schema   â”‚  âŒ å¤±è´¥ï¼ˆç¯å¢ƒå˜é‡ã€è·¨æ–‡ä»¶å¼•ç”¨ï¼‰
â”‚ â†’ dynamodb_tables   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“ (ä¸å®Œæ•´æˆ–ä¸ºç©º)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Architect Agent      â”‚
â”‚                      â”‚
â”‚ ä»reportå¤åˆ¶schema   â”‚  âŒ æ— schemaå¯å¤åˆ¶
â”‚ â†’ blueprint.json     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SAM Engineer         â”‚
â”‚                      â”‚
â”‚ ä»blueprintè¯»schema  â”‚  âŒ blueprintä¸­æ— å®Œæ•´schema
â”‚ â†’ template.yaml      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¿®æ”¹å

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Static Analyzer     â”‚
â”‚                     â”‚
â”‚ æå–åŸºæœ¬ä¿¡æ¯:        â”‚  âœ… ç®€å•å¯é 
â”‚ - used: true        â”‚
â”‚ - probable_tables   â”‚
â”‚ - schema_files      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“ (è½»é‡çº§ä¿¡æ¯)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Architect Agent      â”‚
â”‚                      â”‚
â”‚ åªåšé€»è¾‘è®¾è®¡:        â”‚  âœ… ä¸éœ€è¦å®Œæ•´schema
â”‚ - å•è¡¨/å¤šè¡¨?         â”‚
â”‚ - å“ªäº›æœåŠ¡è®¿é—®è¡¨?    â”‚
â”‚ - è®°å½•schemaæ–‡ä»¶ä½ç½® â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SAM Engineer         â”‚
â”‚                      â”‚
â”‚ ä¸»åŠ¨è¯»å–schemaæ–‡ä»¶:  â”‚  âœ… è·å¾—å‡†ç¡®schema
â”‚ 1. è¯»schema_files    â”‚
â”‚ 2. æå–KeySchema    â”‚
â”‚ 3. ç”ŸæˆSAMèµ„æº      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ä¼˜åŠ¿æ€»ç»“

### 1. ç®€å•æ€§
- âŒ ä¸å†è¯•å›¾å®Œç¾æå–å¤æ‚çš„schema
- âœ… åªæå–è¡¨ååˆ—è¡¨å’Œæ–‡ä»¶ä½ç½®

### 2. å¯é æ€§
- âŒ ä¸ä¾èµ–ç¯å¢ƒå˜é‡æ±‚å€¼
- âœ… ä»é»˜è®¤å€¼ä¸­æå–hints
- âœ… è·¨è¯­è¨€æ”¯æŒï¼ˆPython + JavaScriptï¼‰

### 3. èŒè´£æ¸…æ™°
- **Static Analyzer**: æä¾›æ¦‚è§ˆå’Œhints
- **Architect**: åšé€»è¾‘æ¶æ„è®¾è®¡
- **SAM Engineer**: è¯»å–æºæ–‡ä»¶è·å–å‡†ç¡®schema

### 4. çµæ´»æ€§
- SAM Engineeræœ‰3ç§ç­–ç•¥é€‰æ‹©
- å³ä½¿schemaæ–‡ä»¶å¤æ‚ï¼Œä»å¯ä»Lambdaä»£ç æ¨æ–­
- å…œåº•ç­–ç•¥ç¡®ä¿æ€»èƒ½ç”Ÿæˆæ¨¡æ¿

---

## ğŸ“ ç›¸å…³æ–‡ä»¶ä¿®æ”¹

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|---------|
| `src/preprocessor/static_analyzer.py` | `extract_dynamodb_schemas` â†’ `extract_dynamodb_info`<br>åˆ é™¤å¤æ‚çš„schemaæå–é€»è¾‘<br>æ–°å¢5ç§è¡¨åæå–æ¨¡å¼ |
| `src/config/agents.yaml` | **Architect**: ç§»é™¤å®Œæ•´schemaå®šä¹‰è¦æ±‚<br>**SAM Engineer**: æ–°å¢3ç§schemaè·å–ç­–ç•¥ |
| `docs/DynamoDBæ¶æ„å†³ç­–åˆ†æ.md` | è¯¦ç»†åˆ†æä¸ºä½•ä¸è¿½æ±‚å®Œç¾æå– |
| `docs/æ¶æ„æ”¹è¿›å®æ–½æ€»ç»“.md` | æœ¬æ–‡æ¡£ |

---

## ğŸš€ å®é™…ä½¿ç”¨æµç¨‹

### é¢„å¤„ç†é˜¶æ®µ

```bash
# 1. è¿è¡Œé™æ€åˆ†æ
python src/preprocessor/static_analyzer.py --monolith-root input_monolith
# è¾“å‡º: storage/analysis_report.json
#   â†’ dynamodb_info: {used, probable_tables, schema_files}

# 2. æ„å»ºRAGç´¢å¼•
python src/preprocessor/build_rag.py --monolith-root input_monolith
```

### Agentæ‰§è¡Œé˜¶æ®µ

```bash
# 3. è¿è¡ŒMulti-Agentè¿ç§»
python src/main.py
```

**Architect Agent:**
```
1. è¯»å– analysis_report.json
2. çœ‹åˆ° dynamodb_info.used = true
3. çœ‹åˆ° probable_tables = ["users-table", "orders-table"]
4. è®¾è®¡é€»è¾‘æ¶æ„:
   {
     "data_architecture": {
       "database": "DynamoDB",
       "logical_tables": [
         {"logical_name": "Users", "access_from": ["UserService"]},
         {"logical_name": "Orders", "access_from": ["OrderService"]}
       ],
       "schema_source_files": ["dynamodb.py", "init_db.js"]
     }
   }
```

**Coding Agent:**
```
1. è¯»å– blueprint.json
2. ç”ŸæˆLambdaå‡½æ•°
3. å¤åˆ¶DynamoDBè®¿é—®é€»è¾‘ï¼ˆä»æºä»£ç ï¼‰
```

**SAM Engineer:**
```
1. è¯»å– analysis_report.dynamodb_info.schema_files
2. ä½¿ç”¨ ReadFileTool è¯»å–:
   - dynamodb.py
   - init_db.js
3. æå–å®Œæ•´çš„create_tableå®šä¹‰
4. ç”Ÿæˆå‡†ç¡®çš„SAM DynamoDBèµ„æºå®šä¹‰
```

---

## ğŸ“Š æµ‹è¯•éªŒè¯

### Todoåº”ç”¨æµ‹è¯•

**å‘½ä»¤ï¼š**
```bash
python src/preprocessor/static_analyzer.py \
  --monolith-root ../mono-benchmark/todo \
  --output storage/todo_test.json
```

**ç»“æœï¼š**
```json
{
  "dynamodb_info": {
    "used": true,
    "probable_tables": [
      "todo-monolith-table",   âœ… æ­£ç¡®
      "todo-monolith-users",   âœ… æ­£ç¡®
      "us-east-1"              âš ï¸ è¯¯æŠ¥ï¼ˆä¸å½±å“ï¼‰
    ],
    "schema_files": [
      "backend/config/db.js",  âœ… æ­£ç¡®
      "frontend/src/App.js"    âœ… åŒ…å«DynamoDBæ“ä½œ
    ]
  }
}
```

### Shopping Cartåº”ç”¨æµ‹è¯•

**å‘½ä»¤ï¼š**
```bash
python src/preprocessor/static_analyzer.py \
  --monolith-root ../mono-benchmark/shopping-cart \
  --output storage/shopping_cart_test.json
```

**ç»“æœï¼š**
```json
{
  "dynamodb_info": {
    "used": true,
    "probable_tables": [
      "shopping-cart-monolith",  âœ… æ­£ç¡®
      "us-east-1",               âš ï¸ è¯¯æŠ¥
      "dev-secret-key..."        âš ï¸ è¯¯æŠ¥
    ],
    "schema_files": [
      "app.py",                  âœ… åŒ…å«DynamoDBæ“ä½œ
      "dynamodb.py"              âœ… åŒ…å«schemaå®šä¹‰
    ]
  }
}
```

**ç»“è®ºï¼š**
- âœ… æ ¸å¿ƒä¿¡æ¯ï¼ˆused, ä¸»è¡¨å, schemaæ–‡ä»¶ï¼‰æå–æˆåŠŸ
- âš ï¸ æœ‰å°‘é‡è¯¯æŠ¥ï¼Œä½†ä¸å½±å“ä½¿ç”¨ï¼ˆåªæ˜¯hintsï¼‰

---

## ğŸ“ è®¾è®¡å“²å­¦

### åŸåˆ™1ï¼šæ‰¿è®¤é™æ€åˆ†æçš„å±€é™æ€§

ä¸è¿½æ±‚100%å®Œç¾çš„æå–ï¼Œè€Œæ˜¯æä¾›"è¶³å¤Ÿå¥½"çš„hintsã€‚

### åŸåˆ™2ï¼šæŒ‰éœ€è¯»å–

è®©éœ€è¦è¯¦ç»†ä¿¡æ¯çš„Agentï¼ˆSAM Engineerï¼‰ä¸»åŠ¨è¯»å–æºæ–‡ä»¶ï¼Œè€Œä¸æ˜¯é¢„å¤„ç†é˜¶æ®µå¼ºè¡Œæå–ã€‚

### åŸåˆ™3ï¼šèŒè´£åˆ†ç¦»

- **Static Analyzerï¼ˆé¢„å¤„ç†ï¼‰**ï¼šæä¾›å…¨å±€æ¦‚è§ˆ
- **Architectï¼ˆè®¾è®¡ï¼‰**ï¼šåšé€»è¾‘æ¶æ„å†³ç­–
- **SAM Engineerï¼ˆå®ç°ï¼‰**ï¼šè¯»å–æºæ–‡ä»¶ç”Ÿæˆå‡†ç¡®é…ç½®

### åŸåˆ™4ï¼šå¤šç­–ç•¥å¤‡ä»½

SAM Engineeræœ‰3ç§ç­–ç•¥ï¼Œç¡®ä¿å³ä½¿schemaæ–‡ä»¶å¤æ‚ä¹Ÿèƒ½å®Œæˆä»»åŠ¡ã€‚

---

## ğŸ“ˆ å¯¹æ¯”æ€»ç»“

| æ–¹é¢ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| **é™æ€åˆ†æå¤æ‚åº¦** | é«˜ï¼ˆAST+æ­£åˆ™æå–å®Œæ•´schemaï¼‰ | ä½ï¼ˆåªæå–è¡¨åhintsï¼‰ |
| **è·¨è¯­è¨€æ”¯æŒ** | ä»…Python | Python + JavaScript |
| **ç¯å¢ƒå˜é‡å¤„ç†** | âŒ æ— æ³•å¤„ç† | âœ… æå–é»˜è®¤å€¼ |
| **ArchitectèŒè´£** | å¤åˆ¶å®Œæ•´schema | é€»è¾‘æ¶æ„è®¾è®¡ |
| **SAM EngineerèŒè´£** | ä»blueprintè¯»å– | ä¸»åŠ¨è¯»å–schemaæ–‡ä»¶ |
| **å¯é æ€§** | âŒ ç»å¸¸å¤±è´¥ | âœ… æ€»èƒ½æå–åŸºæœ¬ä¿¡æ¯ |
| **çµæ´»æ€§** | ä½ï¼ˆå•ä¸€æå–è·¯å¾„ï¼‰ | é«˜ï¼ˆ3ç§ç­–ç•¥ï¼‰ |

---

## ğŸ”§ åç»­å¯èƒ½çš„ä¼˜åŒ–

### ä¼˜åŒ–1ï¼šè¿‡æ»¤è¯¯æŠ¥è¡¨å

æ·»åŠ è¿‡æ»¤è§„åˆ™ï¼š
```python
# æ’é™¤æ˜æ˜¾ä¸æ˜¯è¡¨åçš„å­—ç¬¦ä¸²
EXCLUDE_PATTERNS = ['region', 'key', 'secret', 'endpoint', 'http', 'localhost']

for table in probable_tables:
    if not any(pattern in table.lower() for pattern in EXCLUDE_PATTERNS):
        filtered_tables.append(table)
```

### ä¼˜åŒ–2ï¼šè¯†åˆ«init/setupè„šæœ¬

ä¼˜å…ˆæ‰«æç‰¹å®šæ–‡ä»¶æ¨¡å¼ï¼š
```python
# ä¼˜å…ˆæ‰«æè¿™äº›æ–‡ä»¶ï¼ˆé€šå¸¸åŒ…å«å®Œæ•´schemaï¼‰
PRIORITY_FILES = ['**/init*.py', '**/init*.js', '**/setup*.py', '**/migration*.py']
```

### ä¼˜åŒ–3ï¼šæå–å¸¸è§è®¿é—®æ¨¡å¼

ç®€å•ç»Ÿè®¡DynamoDBæ“ä½œç±»å‹ï¼š
```python
{
  "access_patterns": {
    "query": 15,   # queryè°ƒç”¨æ¬¡æ•°
    "scan": 3,     # scanè°ƒç”¨æ¬¡æ•°
    "get_item": 8  # get_itemè°ƒç”¨æ¬¡æ•°
  }
}
```

---

## âœ¨ æ€»ç»“

è¿™æ¬¡æ¶æ„æ”¹è¿›ä»æ ¹æœ¬ä¸Šè§£å†³äº†DynamoDB schemaæå–çš„é—®é¢˜ï¼š

**ä¸è¿½æ±‚å®Œç¾**ï¼šæ‰¿è®¤é™æ€åˆ†æçš„å±€é™æ€§  
**åˆ†å·¥æ˜ç¡®**ï¼šå„Agentå„å¸å…¶èŒ  
**æŒ‰éœ€è¯»å–**ï¼šéœ€è¦æ—¶ä¸»åŠ¨è·å–ï¼Œè€Œéé¢„å…ˆæå–ä¸€åˆ‡  

é€šè¿‡è¿™æ¬¡æ”¹è¿›ï¼Œç³»ç»Ÿå˜å¾—æ›´ç®€å•ã€æ›´å¯é ã€æ›´çµæ´»ï¼ğŸš€
